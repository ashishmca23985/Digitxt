<!DOCTYPE html>
<html lang="en">
<!-- Page generated at 2019-10-10 10:07:09 -->

<!-- Mirrored from www.bulksms.com/developer/eapi/code-samples/java/unicode/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 15 Oct 2019 07:43:34 GMT -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Java SMS Code Sample - Unicode - API - BulkSMS.com</title>

    <link rel="stylesheet" href="../../../../css/bootstrap-3.1.1.min.css">
    <link rel="stylesheet" href="../../../../css/bootstrap-docs.min.css">
    <link rel="stylesheet" href="../../../../css/highlightjs-8.4.min.css">
    <link rel="stylesheet" href="../../../../css/styles.css">
    <link rel="stylesheet" href="../../../../css/font-awesome.min.css">

</head>
<body>
    <div class="navbar navbar-default navbar-static-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand" href="../../../../../index.html" target="_blank"><img src="../../../../images/bulksms.png"></a>
            </div>
            <div class="collapse navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li><a style="background: grey; color: white; border: 1px solid grey" href="../../../../index.html">Developers</a></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="container bulksms-content">
        <b><a class="popover-help-link" tabindex="0" role="button" data-toggle="popover" data-trigger="focus" title="Deprecated" data-content="This API is no longer actively developed - however, it is still available for the use of customers with existing integrations.">Deprecated</a> - please use the <a href="../../../../json/v1/index.html#tag/Message%2Fpaths%2F~1messages%2Fpost">JSON API</a> instead.</b>

<div class="container">
  <div class="row">
    <div class="col-md-10">
      <h1 id="unicodejava">unicode.java</h1>
<p><a href="unicode.java" class="download code-sample-download">download</a></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.net.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SendUnicodeSms</span> <span class="o">{</span>

    <span class="kd">static</span> <span class="kd">public</span> <span class="nc">String</span> <span class="nf">stringToHex</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">char</span><span class="o">[]</span> <span class="n">chars</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">toCharArray</span><span class="o">();</span>
        <span class="nc">String</span> <span class="n">next</span><span class="o">;</span>
        <span class="nc">StringBuffer</span> <span class="n">output</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuffer</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">chars</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">next</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">toHexString</span><span class="o">((</span><span class="kt">int</span><span class="o">)</span><span class="n">chars</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
            <span class="c1">// Unfortunately, toHexString doesn't pad with zeroes, so we have to.</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="o">(</span><span class="mi">4</span><span class="o">-</span><span class="n">next</span><span class="o">.</span><span class="na">length</span><span class="o">());</span> <span class="n">j</span><span class="o">++)</span>  <span class="o">{</span>
                <span class="n">output</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"0"</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="n">output</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">next</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">output</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">static</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="c1">// Construct data</span>
            <span class="nc">String</span> <span class="n">data</span> <span class="o">=</span> <span class="s">""</span><span class="o">;</span>
            <span class="cm">/*
             * Note the suggested encoding for certain parameters, notably
             * the username and password.
             *
             * Please remember that 16bit support is a route-specific feature.
             * Please contact us if you need to confirm the status of a
             * particular route.
             *
             * Also, mobile handsets only implement partial support for non-
             * Latin characters in various languages and will generally only
             * support languages of the area of their distribution.
             * Please do not expect e.g. a handset sold in South America to
             * display Arabic text.
             */</span>
            <span class="n">data</span> <span class="o">+=</span> <span class="s">"username="</span> <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">"myusername"</span><span class="o">,</span> <span class="s">"ISO-8859-1"</span><span class="o">);</span>
            <span class="n">data</span> <span class="o">+=</span> <span class="s">"&amp;password="</span> <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">"xxxxxx"</span><span class="o">,</span> <span class="s">"ISO-8859-1"</span><span class="o">);</span>
            <span class="n">data</span> <span class="o">+=</span> <span class="s">"&amp;message="</span> <span class="o">+</span> <span class="n">stringToHex</span><span class="o">(</span><span class="s">"This is a test: ☺ \nArabic: شصض\nChinese: 本网"</span><span class="o">);</span>
            <span class="n">data</span> <span class="o">+=</span> <span class="s">"&amp;dca=16bit"</span><span class="o">;</span>
            <span class="n">data</span> <span class="o">+=</span> <span class="s">"&amp;want_report=1"</span><span class="o">;</span>
            <span class="n">data</span> <span class="o">+=</span> <span class="s">"&amp;msisdn=44123123123"</span><span class="o">;</span>

            <span class="c1">// Send data</span>
            <span class="c1">// Please see the FAQ regarding HTTPS (port 443) and HTTP (port 80/5567)</span>
            <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="s">"«EAPI URL»/submission/send_sms/2/2.0"</span><span class="o">);</span>

            <span class="nc">URLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
            <span class="nc">OutputStreamWriter</span> <span class="n">wr</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">OutputStreamWriter</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">());</span>
            <span class="n">wr</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>
            <span class="n">wr</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>

            <span class="c1">// Get the response</span>
            <span class="nc">BufferedReader</span> <span class="n">rd</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="nc">InputStreamReader</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
            <span class="nc">String</span> <span class="n">line</span><span class="o">;</span>
            <span class="k">while</span> <span class="o">((</span><span class="n">line</span> <span class="o">=</span> <span class="n">rd</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="c1">// Print the response output...</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">line</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="n">wr</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
            <span class="n">rd</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

    </div>
    <div class="col-md-2">
        <div class="btn-group-vertical">
            <a class="btn btn-default" href="../../../index.html">Quick Start</a>
            <a class="btn btn-default" href="../../../overview.html">Overview</a>
            <a class="btn btn-default" href="../../../submission/index.html">Submission</a>
            <a class="btn btn-default" href="../../../reception/index.html">Reception</a>
            <a class="btn btn-default" href="../../../status_reports/index.html">Status Reports</a>
            <a class="btn btn-default" href="../../../phonebook/index.html">Phonebook</a>

            <a class="btn btn-default" href="../../../account/index.html">Account</a>
        </div>
    </div>
  </div>
</div>


    </div>

    <script src="../../../../js/jquery-1.11.0.min.js"></script>
    <script src="../../../../js/bootstrap-3.1.1.min.js"></script>
    <script src="../../../../js/highlight-8.4.min.js"></script>
    <script src="../../../../js/fardt-0.4.2.min.js"></script>

    <script >
    $(function () {
        $('[data-toggle="tooltip"]').tooltip();
        $('[data-toggle="popover"]').popover();
    })
    </script>

    <script src="../../../../js/scripts.js"></script>
    
    <!-- Google Analytics -->
    <script>
    var gacode = (("www.bulksms.com" == document.location.hostname) ? "UA-540842-13" : "UA-540842-12");

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','../../../../../../www.google-analytics.com/analytics.js','ga');
    ga('create', gacode, 'auto');
    ga('send', 'pageview');
    </script>
    <!-- End Google Analytics -->

</body>

<!-- Mirrored from www.bulksms.com/developer/eapi/code-samples/java/unicode/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 15 Oct 2019 07:43:34 GMT -->
</html>
